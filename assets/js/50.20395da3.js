(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{493:function(t,e,a){"use strict";a.r(e);var r=a(2),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"报错信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错信息"}},[t._v("#")]),t._v(" 报错信息")]),t._v(" "),e("blockquote",[e("p",[t._v("Shutdown Signal: channel error; protocol method: #method<channel.close>(reply-code=406, reply-text=PRECONDITION_FAILED - delivery acknowledgement on channel 2 timed out. Timeout value used: 1800000 ms. This timeout value can be configured, see consumers doc guide to learn more, class-id=0, method-id=0)")])]),t._v(" "),e("h3",{attrs:{id:"解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),e("p",[t._v("rabbitmq默认客户端超时时间是30分钟，手动ACK情况下会如果业务事件较长会超时，可以采用下面修改方式：")]),t._v(" "),e("p",[t._v("第一种：需要重启MQ")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("      .在etc目录下建一个文件，/etc/rabbitmq.conf，rabbitmq默认不会建这个文件，然后文件里面设置consumer_timeout = 360000（根据需要来决定）。然后重新启动rabbitmq。\n")])])]),e("p",[t._v("第二种：无需重启，动态修改：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("修改前，在MQ服务器上执行：rabbitmqctl eval 'application:get_env(rabbit,consumer_timeout).' 来查看当前时间是多少，然后： \n")])])]),e("p",[t._v("1 ：在MQ服务器上执行：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("   rabbitmqctl eval 'application:set_env(rabbit,consumer_timeout,360000).' \n")])])]),e("p",[t._v("2：修改后，再执行rabbitmqctl eval 'application:get_env(rabbit,consumer_timeout).' 验证。")])])}),[],!1,null,null,null);e.default=s.exports}}]);