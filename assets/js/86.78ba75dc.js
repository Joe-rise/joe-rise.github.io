(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{539:function(a,e,s){"use strict";s.r(e);var r=s(2),t=Object(r.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"格式转换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#格式转换"}},[a._v("#")]),a._v(" 格式转换")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4  output.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"使用gpu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用gpu"}},[a._v("#")]),a._v(" 使用GPU")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:v")]),a._v(" h264_nvenc "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-preset")]),a._v(" slow "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" aac "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:a")]),a._v(" 128k output.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"改变编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#改变编码"}},[a._v("#")]),a._v(" 改变编码")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" video.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 1920x1080 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" yuv420p "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" libx264 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-preset")]),a._v(" medium "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-profile:v")]),a._v(" high "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-level:v")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4.1")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-crf")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("23")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" aac "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ar")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("44100")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ac")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b:a")]),a._v(" 128k video_avi.avi\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("strong",[a._v("说明:")])]),a._v(" "),e("ul",[e("li",[a._v("-s 1920x1080：缩放视频新尺寸(size)")]),a._v(" "),e("li",[a._v("-pix_fmt yuv420p：pixel format,用来设置视频颜色空间。参数查询：ffmpeg -pix_fmts")]),a._v(" "),e("li",[a._v("-vcodec libx264：video Coder Decoder，视频编码解码器")]),a._v(" "),e("li",[a._v("-preset medium: 编码器预设。参数：ultrafast,superfast,veryfast,faster,fast,medium,slow,slower,veryslow,placebo")]),a._v(" "),e("li",[a._v("-profile:v high :编码器配置，与压缩比有关。实时通讯-baseline,流媒体-main,超清视频-high")]),a._v(" "),e("li",[a._v("-level:v 4.1 ：对编码器设置的具体规范和限制，权衡压缩比和画质。")]),a._v(" "),e("li",[a._v("-crf 23 ：设置码率控制模式。constant rate factor-恒定速率因子模式。范围0~51,默认23。数值越小，画质越高。一般在8~28做出选择。")]),a._v(" "),e("li",[a._v("-r 30 :设置视频帧率")]),a._v(" "),e("li",[a._v("-acodec aac :audio Coder Decoder-音频编码解码器")]),a._v(" "),e("li",[a._v("-b:a 128k :音频比特率.大多数网站限制音频比特率128k,129k\n其他参考上一个教程")])]),a._v(" "),e("h2",{attrs:{id:"获取在线视频编码信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取在线视频编码信息"}},[a._v("#")]),a._v(" 获取在线视频编码信息")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffprobe "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" error "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-select_streams")]),a._v(" v:0 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-show_entries")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("stream")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("codec_name "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-of")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("default")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("noprint_wrappers"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":nokey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" your_url\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"截图-水印-动图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#截图-水印-动图"}},[a._v("#")]),a._v(" 截图,水印,动图")]),a._v(" "),e("p",[a._v("(1)截图.")]),a._v(" "),e("p",[a._v("截取第7秒第1帧的画面")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" video.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vframes")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" video_image.jpg\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("(2)水印")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" video.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" qt.png "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"overlay=20:80"')]),a._v(" video_watermark.mp4\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("(3)截取动图")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" video.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("7.5")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-to")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.5")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 640x320 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(" video_gif.gif\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);